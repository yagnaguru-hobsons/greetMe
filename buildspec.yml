version: 0.2

phases:
    install:
        commands: 
            - echo started...
            
    pre_build:
        commands: 
            - echo building npm
            - npm install

    build:
        commands:
            - echo deployment started..
            - sam package --template-file template.yml --output-template-file sam.yml --s3-bucket sampocygr
            - sam deploy --template-file sam.yml --stack-name greetMe-api --capabilities CAPABILITY_IAM 
    
    post_build:
        commands: 
            - echo deployment complete..